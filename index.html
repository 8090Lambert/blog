<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content=""><meta name="author" content="8090Lambert"><meta name="google-site-verification" content="NlVkPYQIz-6FEWSYj-zlvN-gVromFNmq2v7hUK_WyyM"><meta name="sogou_site_verification" content="GFRFxFpBEM"><meta property="og:title" content="8090Lambert | Blog"><meta property="og:description" content="A Programmer With Coding."><meta property="og:site_name" content="8090Lambert | Blog"><meta property="og:type" content="website"><meta property="og:image" content="http://8090lambert.cn"><link rel="alternate" href="/atom.xml" title="8090Lambert | Blog" type="application/atom+xml"><link rel="icon" href="/images/favicon.ico"><title>8090Lambert | Blog</title><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-146263529-1","auto"),ga("send","pageview")</script><script async src="https://www.google-analytics.com/analytics.js"></script><script>var _hmt=_hmt||[]</script><script async src="//hm.baidu.com/hm.js?dfc9714182f4393d85cb19cc7ad9c231"></script></head><body><nav class="navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="collapse navbar-collapse site-menu"><ul class="nav navbar-nav navbar-right"><li> <a href="/">Home</a></li><li> <a href="/archives">Archives</a></li><li> <a href="/about">About</a></li><li> <a href="mailto:<juzs215@gmail.com>">Email</a></li><li><a href="https://github.com/8090Lambert"><i class="icon fa fa-github fa-lg"></i></a></li></ul></div></div></nav><header class="site-header header-background intro-header" style="background-image:url(/img/banner.jpg)"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="page-title with-background-image"><p class="title">8090Lambert | Blog</p><p class="subtitle">A Programmer With Coding.</p></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-item-wrapper"> <a href="/2021/08/03/LSMTree结构理解/" class="post-title">LSMTree结构理解</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">2.4k</span></div><div class="time-meta"> <span>2021年8月3日</span> <span class="meta-item">Updated Nov 4, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">LSM-Tree 结构的存储系统，将离散的随机写请求，通过WAL + Compaction机制变为批量的顺序写请求，提升写入性能。但是，多个level、每层多个SST文件的架构也存在一些问题： 读放大：当查询一个key时，需要遵循从新到旧的查找过程，直到找到想要的数据。虽然有全局manifest文件索引、每个SSTable还有Bloom filter，但是逐层的步骤不可避免，这个过程可能需...</div></div></div><div class="post-item-wrapper"> <a href="/2021/05/23/sync-Pool原理解析/" class="post-title">sync.Pool原理解析</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">2.6k</span></div><div class="time-meta"> <span>2021年5月23日</span> <span class="meta-item">Updated Nov 3, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">sync.Pool 介绍拥有垃圾回收特性的语言里，gc发生时都会带来性能损耗，为了减少gc影响，通常的做法是减少小块对象内存频繁申请，让每次发生垃圾回收时scan和clean活跃对象尽可能的少。sync.Pool可以帮助在程序构建了对象池，提供对象可复用能力，本身是可伸缩且并发安全的。 主要结构体Pool对外导出两个方法： Get 和 Put，Get是用来从Pool中获取可用对象，如果可用对...</div></div></div><div class="post-item-wrapper"> <a href="/2021/01/04/背“八股”，要谨慎/" class="post-title">背“八股”，要谨慎</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">1.1k</span></div><div class="time-meta"> <span>2021年1月4日</span> <span class="meta-item">Updated Nov 8, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">三天的元旦节，导致大量的面试积压，从早上来公司就开始疯狂补作业。自身本来就对面试没有太多激情，比较排斥八股文，刷题怪的这种套路。临近下班前，和一位候选人聊到了他的项目（本人比较乐意从项目的设计来考察技术的深度和广度）。 项目的背景大致是教育直播相关的，对于直播的一些必要且时效性不高的数据，通过Redis做主动缓存，应对课堂上大流量的请求。一般这种回答，我都愿意继续问一问，看看有没有更加全面的...</div></div></div><div class="post-item-wrapper"> <a href="/2020/11/03/一致性协议raft、zab的区别/" class="post-title">一致性协议raft、zab的区别</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">1.5k</span></div><div class="time-meta"> <span>2020年11月3日</span> <span class="meta-item">Updated Nov 3, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">目的为解决大型分布式系统中多个副本日志及状态机一致性问题。 Raft介绍协议由三部分组成：Leader election、Log Replication、Safety。分别对应着三种状态的身份：leader(工作时的首要进程)、candidate(选举时可能会成为leader)、follower(副本). Raft选举选举的时机一般有两种： 初始化时，系统中不存在 Leader 角色。所...</div></div></div><div class="post-item-wrapper"> <a href="/2020/07/25/IO Optimize/" class="post-title">IO Optimize</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">1.1k</span></div><div class="time-meta"> <span>2020年7月25日</span> <span class="meta-item">Updated Nov 3, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">一、传统IO传输传统的数据传输，不论是文件，还是写文件，都是会经过从 磁盘-》内核缓冲区 -》用户应用缓冲区 -》Socket 缓冲区 -》 网卡，这些步骤。这其中，会涉及到 4次用户态到内核态的上下文切换、4次用户态和内核态之间的数据拷贝。 以读文件为例：线程在用户空间发起read()读文件，线程从用户态切换为内核态DMA将磁盘数据拷贝到内核缓存后，CPU又将数据从内核缓存拷贝至用户缓存，...</div></div></div><div class="post-item-wrapper"> <a href="/2020/01/27/Kafka四问/" class="post-title">Kafka四问</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">1.6k</span></div><div class="time-meta"> <span>2020年1月27日</span> <span class="meta-item">Updated Nov 3, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">基本概念HW（HighWater）高水位，表示已经提交（commit）的最大日志偏移量（offset）,已提交是指 ISRs 中所有节点都已同步到这条日志 LEO（Log endOffset）日志最后偏移量，表示日志中下一条待写入消息的Offset ISRs每个 partition 有一个 leader 和多个 follower（副本因子&gt;1）,其中日志状态保持和 leader 同步的...</div></div></div><div class="post-item-wrapper"> <a href="/2019/10/11/Golang的interface探究/" class="post-title">Golang的interface探究</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">1.9k</span></div><div class="time-meta"> <span>2019年10月11日</span> <span class="meta-item">Updated May 9, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">golang被诟病最多的，没有泛型应该算一个。作为强类型语言来说，没有泛型很多时候在业务开发上会有些不适应，但是它有个interface类型，被很多人拿来当泛型玩，如果你了解它的原理也是没问题的。但是你真的了解吗？ Interfacegolang 中的interface，可以将任意类型的变量赋予它。常见的我们区分两种，一种就是struct类型的，因为struct可能会有func；另外一种，就...</div></div></div><div class="post-item-wrapper"> <a href="/2019/05/26/Redis5.0 RDB文件超详细解析/" class="post-title">Redis5.0 RDB文件超详细解析</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">1.7k</span></div><div class="time-meta"> <span>2019年5月26日</span> <span class="meta-item">Updated May 9, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">Redis RDB介绍RDB 是 Redis 将 server 端的内存中的 k/v 对以二进制的方式，持久化存储的一种文件形式。文件中，一般会以 对象的长度+对象 的格式来存储，只要根据这个格式，就能渐进的遍历整个文件。Redis 还支持开启 LZF 的压缩算法，可以牺牲CPU时间，来减少 RDB 文件的大小；如果开启LZF并且超过20个bytes时，会将压缩后的字符写入文件。 RDB文件...</div></div></div><div class="post-item-wrapper"> <a href="/2019/04/30/从底层理解 Golang 的 map 实现/" class="post-title">从底层理解 Golang 的 map 实现</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">3.9k</span></div><div class="time-meta"> <span>2019年4月30日</span> <span class="meta-item">Updated May 9, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">定义golang 中的 map 就是常用的 hashtable，底层实现由 hmap，维护着若干个 bucket 数组，通常每个 bucket 保存着8组kv对，如果超过8个(发生hash冲突时)，会在 extra 字段结构体中的 overflow ，使用链地址法一直扩展下去。先看下 hmap 结构体： type hmap struct { count int // 元素的个...</div></div></div><div class="post-item-wrapper"> <a href="/2019/04/21/详解 Golang 的 slice 设计与实现/" class="post-title">详解 Golang 的 slice 设计与实现</a><div class="post-meta"><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">文章字数统计&#58;</span> <span title="文章字数统计">2.1k</span></div><div class="time-meta"> <span>2019年4月21日</span> <span class="meta-item">Updated May 9, 2021</span></div></div><div class="post-excerpt"><div class="excerpt typo">Slice 结构体slice 是 golang 中利用指针指向某个连续片段的数组，所以本质上它算是引用类型。一个 slice 在 golang 中占用24个 bytes a = make([]int, 0) unsafe.Sizeof(a) // 24 var c int unsafe.Sizeof(c) // 8, 一个 int 在 golang 中占用 8 个bytes(本...</div></div></div></div></div></div><div class="container"><div class="row"><div class="col-lg-10 col-md-10 col-md-offset-1"><ul class="pagination"><li class="next"> <a href="/page/2/"><span>下一页</span> <span class="symbol-right">&gt;</span></a></li></ul></div></div></div><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><p class="copyright text-muted"> &copy; 2016 - 2021<span class="with-love"><i class="fa fa-heart"></i></span> <span class="author">8090Lambert</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></p><p class="visit-statistics"> <span id="busuanzi_container_site_pv">本站总访问：<span id="busuanzi_value_site_pv"></span>次 &nbsp;&nbsp;&nbsp;&nbsp;</span></p><p></p></div></div></div></footer><script src="/js/highlight.pack.js"></script><script>document.addEventListener("DOMContentLoaded",function(e){Array.prototype.slice.call(document.getElementsByTagName("pre")).forEach(function(e,t){hljs.highlightBlock(e)})})</script></body></html>